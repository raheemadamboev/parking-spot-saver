package xyz.teamgravity.parkingspotsaver.data.local

import androidx.room.*
import kotlinx.coroutines.flow.Flow
import xyz.teamgravity.parkingspotsaver.data.model.ParkingSpotModel

@Dao
interface ParkingSpotDao {

    ///////////////////////////////////////////////////////////////////////////
    // Insert
    ///////////////////////////////////////////////////////////////////////////

    @Insert(onConflict = OnConflictStrategy.REPLACE)
    suspend fun insertParkingSpot(spot: ParkingSpotModel)

    ///////////////////////////////////////////////////////////////////////////
    // Delete
    ///////////////////////////////////////////////////////////////////////////

    @Delete
    suspend fun deleteParkingSpot(spot: ParkingSpotModel)

    ///////////////////////////////////////////////////////////////////////////
    // Get
    ///////////////////////////////////////////////////////////////////////////

    @Query("SELECT * FROM ${ParkingSpotConst.TABLE_PARKING_SPOT}")
    fun getAllParkingSpot(): Flow<List<ParkingSpotModel>>
}